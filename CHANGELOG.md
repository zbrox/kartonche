# Changelog

All notable changes to kartonche will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Bug Fixes

- Improve Bulgarian translations for permission views
- Use Apple's official Bulgarian term for widgets
- Add LSSupportsOpeningDocumentsInPlace to Info.plist
- Replace deprecated placemark API and remove unnecessary await
- Remove unnecessary await in CardListView
- Add iOS Simulator destination to build task
- Migrate from deprecated CLGeocoder to MKReverseGeocodingRequest

### Documentation

- Add TODO for GeocodingService deprecation

### Features

- Overhaul location editor with map picker and flexible search
- Fix nearest location widget and add Always permission flow
- Add card export/import with AirDrop sharing
- Add notification reminders for expiring cards
- Add notification settings UI
- Unify permission request flow with custom explanation views
- Add localized permission descriptions for iOS dialogs
- Add AppIcon.icon bundle
- Add document icon for .kartonche file type
- Add xcbeautify for pretty warnings and errors
- Add 'mise run check' task for comprehensive warning detection
- Add 'mise run check-i18n' task for localization validation
- Refactor to English keys and complete Bulgarian translations
- Add 'Show Expired' filter toggle in card list
- Add location permission request flow in Settings
- Add location-based nearby card notifications

### Miscellaneous Tasks

- Remove TODO

## [2026.02.3] - 2026-02-07

### Bug Fixes

- Resolve deprecation warnings for UIScreen.main
- Ensure consistent card alignment by always showing color bar
- Allow adding locations when creating new cards

### Documentation

- Document UI tests need complete rewrite

### Features

- Add multi-program merchant selection
- Integrate scanning with auto-type-detection
- Add photo barcode scanning capability
- Add expiration date tracking for cards
- Add VoiceOver support to card list rows
- Add VoiceOver support to editor and display views
- Complete VoiceOver support for remaining views
- Add Dynamic Type support
- Add CardLocation model and LocationManager
- Add expiration reminder notifications
- Add home screen and lock screen widgets

### Miscellaneous Tasks

- Add SPRINT-PLAN.md to gitignore
- Location access description

### Refactoring

- Simplify Kaufland and dm merchant entries
- Remove unused 'Attach Photo' button from card editor

### Testing

- Add comprehensive UI tests for merchant selection and card creation
- Add comprehensive LocationManager unit tests

## [2026.02.2] - 2026-02-06

### Bug Fixes

- Correct BarcodeGenerator test method signatures
- Restore missing imports and fix test failures
- Configure SwiftData for local-only storage
- Use CardListView as main view instead of placeholder ContentView
- Merchant selection tap target and sheet transition

### Documentation

- Update TODO.md to reflect actual completion status
- Update TODO.md to reflect testing and localization progress
- Update README and TODO with current progress
- Add MIT license
- Mark favorites system as complete in TODO
- Mark Sprint 7 features as complete in TODO

### Features

- Add Bulgarian localization with String Catalog
- Add PermissionManager for camera and photo access
- Add barcode generation with Core Image
- Add card management UI views
- Add user-friendly error messages for barcode validation
- Add community merchant database with KDL and build-time generation
- Add merchant selection UI with search and pre-fill
- Complete Bulgarian translations for all UI strings
- Add Bulgarian translations for sort options
- Add colored branding and improve merchant selection

### Miscellaneous Tasks

- Configure app for local-only storage and fix build issues

### Testing

- Add unit tests for data models
- Add comprehensive BarcodeGenerator tests
- Add comprehensive unit tests for BarcodeType enum
- Add unit tests for ScreenManager
- Add unit tests for BrightnessManager
- Add unit tests for PermissionManager
- Add tests for colored branding feature

### Ci

- Add GitHub Actions workflows for validation and testing

## [2026.02.1] - 2026-02-06

### Documentation

- Add comprehensive project documentation

### Features

- Add SwiftData models for loyalty cards

### Miscellaneous Tasks

- Initial commit
- Add git-cliff configuration for CHANGELOG
- Configure mise for development workflow
- Add .gitignore for Xcode and generated files

<!-- generated by git-cliff -->
