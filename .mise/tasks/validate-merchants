#!/usr/bin/env bash
# Validate Merchants/merchants.kdl against schema
# usage: Validate merchant database KDL syntax
#
# NOTE: Currently validates KDL syntax and required fields only.
# Full schema validation (Merchants/schema.kdl) not yet implemented.
# TODO: Add proper KDL Schema validation

set -euo pipefail

MERCHANTS_FILE="Merchants/merchants.kdl"

echo "Validating $MERCHANTS_FILE..."
echo "(Note: Checking syntax and required fields only, not full schema)"
swift run --package-path Scripts/generate-merchants generate-merchants \
    --input "$MERCHANTS_FILE" \
    --validate-only

echo "âœ“ Validation complete"
